---
title: Wallet Management
---
Empower your business with the Piggyvest Wallet API.Our flexible solution allows you to create and manage multiple wallets for couriers and customers, enabling efficient fund management, competitive interest rates, and automated transactions.

## Key Features
- **Interest Accrual:** Grow your funds with competitive interest rates.
- **Instant Transfers:** Move funds seamlessly between wallets and external accounts.
- **Real-time Monitoring:** Track balances and transactions in real time.
- **Flexible Customization:** Tailor wallet features to meet your specific business needs.

## Wallet Management
Efficiently manage wallet accounts using the provided endpoints. You can create, restrict, or increase wallet balances and execute other actions on a wallet account via our APIs.

### Create a Wallet

To create a wallet you need to make an api call with the following parameters

| Parameters  | Description | Mandatory |
| --- | --- | --- |
| subaccount_name| Wallet Name. Must be Unique to your account.  | Required |
| reserve_virtual_account| If you want to have a funding virtual account created for the wallet pass | Required |
| third_party_identifier | If you passed this value while creating a customer, You can filter against a customer with the identifier | Optional |
| customer_id |   customer Id wallet belongs to. | Required |

```tsx Request
import axios from 'axios'

const secretKey = process.env.PVB_SECRET_KEY
const url = ${process.env.PVB_BASE_URL}/api/v1/wallet/sub-account
const payload = {
    subaccount_name: "USER 2 WALLET",
    reserve_virtual_account: true,
    customer_id: "53252bce-978a-4ed4-a766-a1dd3a0d95eb"
}

await axios.post(url, payload, {
    headers: {
      'Authorization': `Bearer ${secretKey}`,
    },
  })
```

Sample response below
<CodeGroup>
```tsx Successful Response
{
  "status": true,
  "message": "Your wallet creation is being processed and will be ready in a few minutes",
  "data": {
    "id": "023f843a-be7e-494a-bc5d-9f49f4cc640f"
  }
}
```
```tsx Failed Response(Error 400 status code)
{
  "status": false,
  "message": "An error occurred during wallet creation"
}
```
</CodeGroup>

### View Wallet
To fetch a wallet you need to make an api call with it's ID.

```tsx Request
Retrieve Wallet
import axios from 'axios'

const secretKey = process.env.PVB_SECRET_KEY
const url = ${process.env.PVB_BASE_URL}/api/v1/wallet/:wallet_id

await axios.get(url, {
    headers: {
      'Authorization': `Bearer ${secretKey}`,
    },
  })
```

The response should be like this 

```tsx Response
{
    "status": true,
    "message": "Wallet details fetched",
    "data": {
        "id": "1bf89e76-65f1-4caf-8edc-b962a0c73d89",
        "business_id": "27e69b2d-57a9-47d6-b318-dfae8cee7ead",
        "branch_id": "96f84f11-c373-48ea-96c7-977e623c8905",
        "faas_wallet_identifier": "01JB0HJ2NSKB1TCWATZP3BSJA6",
        "currency": "NGN",
        "name": "USER 2 2 WALLET",
        "status": "active",
        "auto_payout": false,
        "type": "api",
        "is_subaccount": true,
        "parent_wallet_id": "e343e734-bc98-436c-a322-ecf3bfae96fa",
        "balance": 0,
        "ledger_balance": 0,
        "gradient_color_id": null,
        "provider_payload": "{\"eventId\":\"01JB0HJA2S8JRZE4GFNHB7C5E5\",\"customer_id\":\"f38a668b-9219-11ef-9d93-42010a9c001c\",\"eventType\":\"create-wallet.success\",\"eventCategory\":\"create_wallet\",\"eventData\":{\"wallet_id\":\"01JB0HJ2NSKB1TCWATZP3BSJA6\",\"name\":\"USER 2 2 WALLET\",\"customer_id\":\"f38a668b-9219-11ef-9d93-42010a9c001c\",\"currency\":\"NGN\",\"identifier\":\"1bf89e76-65f1-4caf-8edc-b962a0c73d89\",\"reference\":null,\"tag\":\"api\",\"email\":null,\"phone\":null,\"wallet_meta\":\"\"},\"pvb_wallet\":\"1bf89e76-65f1-4caf-8edc-b962a0c73d89\"}",
        "auto_withdrawal_destination_type": null,
        "auto_withdrawal_destination_id": null,
        "auto_withdrawal_destination_name": null,
        "auto_withdrawal_destination_code": null,
        "auto_withdrawal_destination_bank_name": null,
        "auto_withdrawal_destination_bank_logo": null,
        "is_frozen": false,
        "api_customer_id": "f38a668b-9219-11ef-9d93-42010a9c001c",
        "creation_interest_rate": 0,
        "current_interest_rate": 0,
        "created_at": "2024-10-25T00:35:06.000Z",
        "updated_at": "2024-10-25T00:35:06.000Z",
        "deleted_at": null,
        "withdrawal_count": 0
    }
}
```


### Wallet Accrued Interest

To get interest accrued on a wallet for the current month make a request to the wallet accrued interest endpoint. 

**Note :** You will only get interest accrued for the current month when you fetch data from this endpoint. 

```tsx Request
import axios from 'axios'

const secretKey = process.env.PVB_SECRET_KEY
const url = ${process.env.PVB_BASE_URL}/api/v1/wallet/:wallet_id/accured-interests

await axios.get(url, {
    headers: {
      'Authorization': `Bearer ${secretKey}`,
    },
  })
```

Sample  response below

<CodeGroup>

```tsx Response
{
    "status": true,
    "message": "Wallet interest accrued",
    "data": [
        {
            "balance": "NGN 1,100.00",
            "interest_value": "NGN 0.30",
            "interest_value_unformatted": 30.136986301369863,
            "interest_date": "2024-03-25",
            "percentage": 10
        }
    ]
}
```
```tsx Error Response 400 status code
{
  "status": false,
  "message": "An error occurred fetching accrued wallet interest"
}
```
</CodeGroup>


### Fetch Wallet Account Numbers
Get virtual account numbers for a wallet


```tsx Request
import axios from 'axios'

const secretKey = process.env.PVB_SECRET_KEY
const url = ${process.env.PVB_BASE_URL}/api/v1/wallet/:wallet_id/accounts

await axios.get(url, {
    headers: {
      'Authorization': `Bearer ${secretKey}`,
    },
  })
```
​
<CodeGroup>
```tsx Response
Sample success response below
{
    "status": true,
    "message": "Fetched virtual accounts for wallet",
    "data": [
        {
            "account_number": "9971338168",
            "account_name": "WHITE HIRTHEIBADAN MAKOKO DEVICE 1",
            "bank_name": "Paystack-Titan",
            "paypoint_name": "Ibadan Makoko Device - 1",
            "paypoint_id": "6491b284-606c-4926-aadf-9914c1d7443c"
        },        
        {
            "account_number": "4600123001",
            "account_name": "Chinex and sons",
            "bank_name": "VFD Microfinance Bank (V-Bank)",
            "paypoint_name": null,
            "paypoint_id": null
        }
    ]
}
```

```
Error Response, 400 status code
{
  "status": false,
  "message": "Failed to get virtual accounts for wallet"
}
```
</CodeGroup>

### Fetch Multiple Wallets
Multiple wallets can be fetched with the endpoint below.

**wallet_type:** Wallet type Params should be **“api”**

Query Params

| Parameters  | Description | Mandatory |
| --- | --- | --- |
| limit| How many documents should be returned. If nothing is passed 20 will be returned by default. Maximum value is 100.  | Required |
| cursor| For Subsequent requests to get more wallets, You pass this value to get the next set of wallets. This is a timestamp value and can be gotten from the current response **data.paginatedPayload.pageInfo.endCursor**. Passing this on subsequent api calls will give you the next set of wallet records. | Required |
| orderBy | This is either ASC or DESC. For how you want to order your wallets. Defaults to DESC if nothing is passed. Which is MOST recent record first.  | Optional |
| customer_id |   customer Id of the wallet. | Required |


```
import axios from 'axios'

const secretKey = process.env.PVB_SECRET_KEY
const url = ${process.env.PVB_BASE_URL}/api/v1/wallet/:wallet_type/wallet-type

await axios.get(url, {
    headers: {
      'Authorization': `Bearer ${secretKey}`,
    },
  })
```

<CodeGroup>
Sample success response below
```
{
    "status": true,
    "message": "API wallets fetched successfully",
    "data": {
        "total_balance": 40000
        "paginatedPayload": {
            "edges": [
                {
                    "id": "3b8251aa-b373-495b-9525-1221fe799f31",
                    "business_id": "bfe60bd1-8621-4fa4-86bf-6fe6647e29e8",
                    "branch_id": "65f71f4d-35e9-4128-985a-f185d5c04bb3",
                    "faas_wallet_identifier": "df5ec9e3-efa9-459c-b0b6-d88f9288b0ba",
                    "currency": "NGN",
                    "name": "Chinex Tech API",
                    "status": "active",
                    "auto_payout": false,
                    "type": "api",
                    "is_subaccount": false,
                    "parent_wallet_id": null,
                    "balance": 20000,
                    "ledger_balance": 65000,
                    "gradient_color_id": null,
                    "provider_payload": null,
                    "auto_withdrawal_destination_type": null,
                    "auto_withdrawal_destination_id": null,
                    "auto_withdrawal_destination_name": null,
                    "auto_withdrawal_destination_code": null,
                    "created_at": "2023-12-18T01:50:54.000Z",
                    "updated_at": "2024-02-16T09:35:44.000Z",
                    "deleted_at": null
                },
                {
                    "id": "50a0d8e4-072a-434a-bfe8-77b96aa08b82",
                    "business_id": "bfe60bd1-8621-4fa4-86bf-6fe6647e29e8",
                    "branch_id": "65f71f4d-35e9-4128-985a-f185d5c04bb3",
                    "faas_wallet_identifier": "7e97da80-51cc-4fdb-b66c-f2680b21dc08",
                    "currency": "NGN",
                    "name": "Another API Account",
                    "status": "active",
                    "auto_payout": false,
                    "type": "api",
                    "is_subaccount": true,
                    "parent_wallet_id": "3b8251aa-b373-495b-9525-1221fe799f31",
                    "balance": 20000,
                    "ledger_balance": 20000,
                    "gradient_color_id": "7",
                    "provider_payload": null,
                    "auto_withdrawal_destination_type": null,
                    "auto_withdrawal_destination_id": null,
                    "auto_withdrawal_destination_name": null,
                    "auto_withdrawal_destination_code": null,
                    "created_at": "2024-01-30T12:15:20.000Z",
                    "updated_at": "2024-02-15T17:20:29.000Z",
                    "deleted_at": null
                }
            ],
            "pageInfo": {
                "hasNextPage": false,
                "endCursor": "2024-01-30T07:40:49.000Z", // Subsequent calls to get more records, Pass this as cursor
            }
        }
    }
}
```

```tsx Failed Response(400 status code)
{
  "status": false,
  "message": "An error occurred fetching api wallets"
}
```
</CodeGroup>